<https://www.w3cplus.com/javascript/interview-questions.html



>
>
>getmessage () {
>
>​      console.log(getBillList())
>
>​    }
>
>

```
1. {readyState: 1, getResponseHeader: ƒ, getAllResponseHeaders: ƒ, setRequestHeader: ƒ, overrideMimeType: ƒ, …}*
2. 1. abort: *ƒ (a)*
   2. always: *ƒ ()*
   3. catch: *ƒ (a)*
   4. done: *ƒ ()*
   5. fail: *ƒ ()*
   6. getAllResponseHeaders: *ƒ ()*
   7. getResponseHeader: *ƒ (a)*
   8. overrideMimeType: *ƒ (a)*
   9. pipe: *ƒ ()*
   10. progress: *ƒ ()*
   11. promise: *ƒ (a)*
   12. readyState: 4
   13. responseJSON: {code: 200, message: "Successful", data: Array(2)}
   14. responseText: "{↵    "code": 200,↵    "message": "Successful",↵    "data": [↵        {↵            "poolId": "xxxxxxxx",↵            "poolName": "A",↵            "rewardPoolLeft": 0.007,↵            "rewardPoolRight": 0.008,↵            "goods": [↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "iconUrl": "https://vipweb.bs2cdn.yy.com/vipinter_d6cae981c5494262a924e90154c816d5.png",↵                    "stick": 1,↵                    "weekStock": 10,↵                    "sort": 2,↵                    "yuliang": 10↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "iconUrl": "https://vipweb.bs2cdn.yy.com/vipinter_d6cae981c5494262a924e90154c816d5.png",↵                    "stick": 1,↵                    "weekStock": 10,↵                    "sort": 2,↵                    "yuliang": 10↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "iconUrl": "https://vipweb.bs2cdn.yy.com/vipinter_d6cae981c5494262a924e90154c816d5.png",↵                    "stick": 1,↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2,↵                    "yuliang": 10↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "iconUrl": "https://vipweb.bs2cdn.yy.com/vipinter_d6cae981c5494262a924e90154c816d5.png",↵                    "stick": 1,↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2,↵                    "yuliang": 10↵                }↵            ]↵        },↵        {↵            "poolId": "xxxxxxxx",↵            "poolName": "A",↵            "rewardPoolLeft": 0.007,↵            "rewardPoolRight": 0.008,↵            "goods": [↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2↵                },↵                {↵                    "goodsName": "yyyyyyy",↵                    "goodsId": "xxxxxxx",↵                    "rmb": 150,↵                    "weekStock": 10,↵                    "sort": 2↵                }↵            ]↵        }↵    ]↵}"
   15. setRequestHeader: *ƒ (a,b)*
   16. state: *ƒ ()*
   17. status: 200
   18. statusCode: *ƒ (a)*
   19. statusText: "OK"
   20. then: *ƒ (b,d,e)*
   21. __proto__: Object
```

打印getmessage .readyState 为 1

？？？？

打印 getmessage .responseJSON 为 undeifned

但是控制台有呀

后来查说是异步



```
// async getmessage () {
    //   const rsp = await getBillList()
    //   console.log(rsp)
    // }
```

这样才能



#### iview row的值

```
{…}
life: ""
number: ""
pool: ""
value: ""
_index: 1
_rowKey: 95
```

直接 row._index



####  this.pools = this.$refs.table.rebuildData

#### $refs

获取实例





![](http://ww1.sinaimg.cn/mw690/006faQNTgw1f02m3qnlr7j30i20hgaf6.jpg)

## 漫画注释

从漫画中举的例子来看，这里的时间戳，指的就是Unix时间戳(Unix timestamp)。它也被称为Unix时间(Unix time)、POSIX时间(POSIX time)，是一种时间表示方式，定义为从格林威治时间1970年01月01日00时00分00秒起至现在的总秒数。因此，严格来说，不管你处在地球上的哪个地方，任意时间点的时间戳都是相同的。这点有利于线上和客户端分布式应用统一追踪时间信息。

Unix时间戳不仅被使用在Unix系统、类Unix系统中，也在许多其他操作系统中被广泛采用。但是，这并不意味着目前的时间戳规范会一直持续使用下去。**因为到2038年1月19日时，Unix时间戳就会因为32位内存溢出（32-bit overflow）而无法继续使用。因此，在这一天之前，上千万的网络应用要么采用新的时间戳规范，要么迁移到64位系统，后者可以给时间戳争取“一点”时间。**

一分60s,一小时3600秒，

```
js得到时间戳(10位数)
复制代码
//从1970年开始的毫秒数然后截取10位变成 从1970年开始的秒数
function timest() {
  var tmp = Date.parse( new Date() ).toString();
  tmp = tmp.substr(0,10);
  return tmp;
}
复制代码
 

复制代码
js 时间戳

var ts = Date.parse(new Date());
// ts 得到永远 xxx000  1493269366000  毫秒部分以000表示

得到具体的毫秒：
var ts = (new Date()).valueOf(); //1280977330748
    ts = new Date().getTime();   // 同上

// 得到10位数
    ts = Math.round(new Date().getTime()/1000).toString();
```

```

```

 datePickerOption: $.extend(true, {}, datePickerOption),



```
index.js:2178 Error: Cannot find module './probability/ProbabilityPage'
    at webpackMissingModule (SignConfig.vue:9)
    at Module.C:\Users\Administrator\AppData\Roaming\npm\node_modules\@yy\fec\lib\webpack\babel-loader.js?!C:\Users\Administrator\AppData\Roaming\npm\node_modules\@yy\fec\node_modules\cache-loader\dist\cjs.js?!C:\Users\Administrator\AppData\Roaming\npm\node_modules\@yy\fec\node_modules\vue-loader\lib\index.js?!./src/module/hagoConfigCenter/lipConfig/index.vue?vue&type=script&lang=js& (SignConfig.vue:9)
    at __webpack_require__ (bootstrap:766)
    at fn (bootstrap:129)
    at Module../src/module/hagoConfigCenter/lipConfig/index.vue?vue&type=script&lang=js& (index.vue?vue&type=script&lang=js&:1)
    at __webpack_require__ (bootstrap:766)
    at fn (bootstrap:129)
    at Module../src/module/hagoConfigCenter/lipConfig/index.vue (index.vue:1)
    at __webpack_require__ (bootstrap:766)
    at fn (bootstrap:129)
    
```

注意看自己的文件名是不是写错

表格嵌套操作

iview表单支持自定义验证规则，可以完成更复杂的验证，下面以验证手机号为例，说明使用方法：

```
//在组件的data里 声明验证规则：

const validatePhone = (rule, value, callback) => {
    if (!value) {
        return callback(new Error('手机号不能为空'));
    } else if (!/^1[34578]\d{9}$/.test(value)) {
        callback('手机号格式不正确');
    } else {
        callback();
    }   
};

//在表单验证规则里使用
ruleValidate:{
    phone:[{validator:validatePhone,trigger:'blur'}]
}

//注意：表单添加校验时，需要给 Form 设置属性 rules，即  “:rules="ruleValidate"”，
同时给需要验证的 FormItem 设置属性 prop 指向对应字段,即 “:prop="phone"”。
```

### JSX map

```
 render: (h, { row }) => {
        let data = row.equipment.map((item) => equipment[item]).join(',')
        return (
          <div>{data}</div>
        )
      }
```

不能是

```
 render: (h, { row }) => {
         row.equipment = row.equipment.map((item) => equipment[item]).join(',')
        return (
          <div>{row.equipment}</div>
        )
      }

```

  会报错说 map不是一个function

> sss

```cfm
<span style="border-bottom:2px dashed yellow;">所添加的需要加下划线的行内文字</span>
```

<span style="border-bottom:2px dashed yellow;">所添加的需要加下划线的行内文字</span>



获取数组对象的某些属性

```
var data = [{type: 1, url: 1, id: 1, a: 1}];
data.map(({type, url, id}) => {
    return {type, url, id};
});
var data = [{type: 1, url: 1, id: 1, a: 1}];
data.map(({type, url, id}) => ({type, url, id}));
```

```
var data = [ ... ];
data.map(function(v) {
    var obj = {};
    
    obj.type = v.type;
    obj.url = v.url;
    obj.id = v.id;
    
    return obj;
});
```

### 2019.4.25 vue中数组会提示属性未定义的问题

遇到个问题，就是在vue中，如果数据是数组里面包含对象，结构如下
data() {

```
return {
  comment: {},
  commodity: {},
  versions: [
    {
      version: "全网通版 4GB+64GB",
      price: "1599元"
    },
    {
      version: "全网通版 4GB+64GB",
      price: "1599元"
    },
    {
      version: "全网通版 4GB+64GB",
      price: "1599元"
    }
  ]
};

在插值的时候用{{versions[0].version}}这种形式就会出警告
[Vue warn]: Error in render: "TypeError: Cannot read property 'version' of undefined"
TypeError: Cannot read property 'version' of undefined
at Proxy.render (eval at ./node_modules/vue-loader/lib/template-compiler/index.js?{"id":"data-v-10009f89","hasScoped":true,"buble":{"transforms":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Commodity.vue (app.js:1454), <anonymous>:31:51)


```

但是数据能正常渲染出来，就是看到红字就难受
想知道是什么原因造成的！求大神解惑

 vue 的生命周期有关。我的理解，在mounted之前数据还未准备好，但是已经编译了模版，所以会报错。

**更新**： 和 vue 的生命周期无关，是题主的异步数据造成的

代码中可以使用 `versions.length && versions[0].version` 这样的方式避免报错。

### git加权限

